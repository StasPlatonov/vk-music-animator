function t(){return window.ap&&window.ap._impl._currentAudioEl?window.ap._impl._currentAudioEl.audioElement?window.ap._impl._currentAudioEl.audioElement:window.ap._impl._currentAudioEl:null}function e(t,e){var n={type:"AUDIO_ELEMENT_EVENT",eventType:t,audioId:e};window.postMessage(n,window.location.origin)}function n(){var n=["play","pause","stop","playing"],i=window.Audio,o=0;window.Audio=function(a){var r=new i(a),d=Date.now()+"-"+Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);return r.setAttribute("id",d),r.addEventListener("timeupdate",(function(n){var i=t();if(i===n.target){var a=Date.now();a-o>1e3&&(e(n.type,i.id),o=a)}})),n.forEach((function(n){r.addEventListener(n,(function(n){var i=t();i===n.target&&e(n.type,i.id)}))})),document.body.appendChild(r),r};var a=window.AudioContext.prototype.createMediaElementSource;window.AudioContext.prototype.createMediaElementSource=function(t){var e;try{e=a.call(this,t)}catch(t){e=a.call(this,new i)}return e}}n();